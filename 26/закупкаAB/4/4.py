# 43)	Предприятие производит оптовую закупку изделий A и Z, на которую выделена определённая сумма денег. У поставщика есть в наличии партии этих изделий различных модификаций по различной цене. На выделенные деньги необходимо приобрести как можно больше изделий A (независимо от модификации). Закупать можно любую часть каждой партии. Если у поставщика закончатся изделия A, то на оставшиеся деньги необходимо приобрести как можно больше изделий Z. Известна выделенная для закупки сумма, а также количество и цена различных модификаций данных изделий у поставщика. Необходимо определить, сколько будет закуплено изделий Z и какая сумма останется неиспользованной. Если возможно несколько вариантов решения (с одинаковым количеством закупленных изделий Z), нужно выбрать вариант, при котором оставшаяся сумма максимальна.
# Входные данные представлены в файле 26-42.txt следующим образом.  Первая строка входного файла содержит два целых числа: N – общее количество партий изделий у поставщика и S – сумма выделенных на закупку денег (в рублях). Каждая из следующих N строк описывает одну партию изделия: сначала записана буква A или Z (тип изделия), а затем – два целых числа: цена одного изделия в рублях и количество изделий в партии. Все данные в строках входного файла разделены одним пробелом.
# В ответе запишите два целых числа: сначала количество закупленных изделий типа Z, затем оставшуюся неиспользованной сумму денег.
# Пример входного файла
# 4 1000
# A 14 12 
# Z 30 7 
# A 40 20 
# Z 50 15
# В данном случае сначала нужно купить изделия A: 12 изделий по 14 рублей и 20 изделий по 40 рублей. На это будет потрачено 968 рублей. На оставшиеся 32 рубля можно купить 1 изделие Z по 30 рублей. Таким образом, всего будет куплено 1 изделие Z и останется 2 рубля. В ответе надо записать числа 1 и 2

izdA = []
izdZ = []

with open('26-42.txt') as f:
    N, S = map(int, f.readline().split())

    for i in range(N):
        tip, price, count = f.readline().split()
        if tip == 'A':
            izdA.append((int(price), int(count)))
        if tip == 'Z':
            izdZ.append((int(price), int(count)))

izdA.sort(key=lambda x: x[0])
izdZ.sort(key=lambda x: x[0])

for (price, count) in izdA:
    for i in range(count):
        if S - price >= 0:
            S -= price

countZ = 0
for (price, count) in izdZ:
    for i in range(count):
        if S - price >= 0:
            S -= price
            countZ += 1

print(countZ, S)